import{O as h,S,a as C}from"./stats-widget-xcxFAnjV.js";import{S as I,P as y,W as g,L as M,a as f,C as E}from"./three-loader-3diles-87y130yI.js";const j="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI3NjEwMjA4Ni00YmVkLTQyMjgtYjRmZS1lY2M3ZWFiMmFmNTYiLCJpZCI6MjYxMzMsImlhdCI6MTY3NTM2ODY4NX0.chGkGL6DkDNv5wYJQDMzWIvi9iDoVa27dgng_5ARDmo",e=document.querySelector("#canvas-parent"),d=document.querySelector("#stats-widget"),m=new I,t=new y(35,1,.01,1e4);t.position.set(0,4e3,0);const n=new g,v=new E,p=new h(t,e);p.listenToKeyEvents(window);e.appendChild(n.domElement);const s=new S;s.domElement.style.position="absolute";s.domElement.style.top="10px";s.domElement.style.left="10px";e.appendChild(s.domElement);const l=new URLSearchParams(document.location.search);N();let i,a;async function N(){const r=await M.load({url:`https://assets.ion.cesium.com/${l.get("assetId")??43978}/tileset.json`,renderer:n,options:{cesiumIONToken:l.get("ionToken")??j,dracoDecoderPath:"https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/libs/draco",pointCloudColoring:f.RGB,maximumScreenSpaceError:6,memoryAdjustedScreenSpaceError:!1}}),{model:o,runtime:c}=r;o.rotation.set(-Math.PI/2,0,0),i=c,m.add(o),a=new C(c.getStats(),{container:d}),d.style.visibility="visible"}function u(r){const o=v.getDelta();p.update(),i&&i.update(o,n,t),a&&a.update(),n.render(m,t),s.update(),window.requestAnimationFrame(u)}w();function w(){n.setSize(e.clientWidth,e.clientHeight),t.aspect=e.clientWidth/e.clientHeight,t.updateProjectionMatrix()}window.addEventListener("resize",w);u();
