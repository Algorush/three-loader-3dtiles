import{E as ke,V as w,i as x,j as L,Q as me,k as pe,f as S,l as Ue}from"./three-loader-3diles-JC4RGCkh.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))e(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&e(d)}).observe(document,{childList:!0,subtree:!0});function o(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(i){if(i.ep)return;i.ep=!0;const s=o(i);fetch(i.href,s)}})();const be={type:"change"},Z={type:"start"},ge={type:"end"};class Ze extends ke{constructor(n,o){super(),o===void 0&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),o===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=n,this.domElement=o,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new w,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:x.ROTATE,MIDDLE:x.DOLLY,RIGHT:x.PAN},this.touches={ONE:L.ROTATE,TWO:L.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return h.phi},this.getAzimuthalAngle=function(){return h.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(t){t.addEventListener("keydown",le),this._domElementKeyEvents=t},this.saveState=function(){e.target0.copy(e.target),e.position0.copy(e.object.position),e.zoom0=e.object.zoom},this.reset=function(){e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.zoom=e.zoom0,e.object.updateProjectionMatrix(),e.dispatchEvent(be),e.update(),s=i.NONE},this.update=function(){const t=new w,a=new me().setFromUnitVectors(n.up,new w(0,1,0)),m=a.clone().invert(),p=new w,T=new me,R=2*Math.PI;return function(){const fe=e.object.position;t.copy(fe).sub(e.target),t.applyQuaternion(a),h.setFromVector3(t),e.autoRotate&&s===i.NONE&&U(Te()),e.enableDamping?(h.theta+=g.theta*e.dampingFactor,h.phi+=g.phi*e.dampingFactor):(h.theta+=g.theta,h.phi+=g.phi);let M=e.minAzimuthAngle,C=e.maxAzimuthAngle;return isFinite(M)&&isFinite(C)&&(M<-Math.PI?M+=R:M>Math.PI&&(M-=R),C<-Math.PI?C+=R:C>Math.PI&&(C-=R),M<=C?h.theta=Math.max(M,Math.min(C,h.theta)):h.theta=h.theta>(M+C)/2?Math.max(M,h.theta):Math.min(C,h.theta)),h.phi=Math.max(e.minPolarAngle,Math.min(e.maxPolarAngle,h.phi)),h.makeSafe(),h.radius*=P,h.radius=Math.max(e.minDistance,Math.min(e.maxDistance,h.radius)),e.enableDamping===!0?e.target.addScaledVector(u,e.dampingFactor):e.target.add(u),t.setFromSpherical(h),t.applyQuaternion(m),fe.copy(e.target).add(t),e.object.lookAt(e.target),e.enableDamping===!0?(g.theta*=1-e.dampingFactor,g.phi*=1-e.dampingFactor,u.multiplyScalar(1-e.dampingFactor)):(g.set(0,0,0),u.set(0,0,0)),P=1,f||p.distanceToSquared(e.object.position)>d||8*(1-T.dot(e.object.quaternion))>d?(e.dispatchEvent(be),p.copy(e.object.position),T.copy(e.object.quaternion),f=!1,!0):!1}}(),this.dispose=function(){e.domElement.removeEventListener("contextmenu",de),e.domElement.removeEventListener("pointerdown",se),e.domElement.removeEventListener("pointercancel",re),e.domElement.removeEventListener("wheel",ce),e.domElement.removeEventListener("pointermove",z),e.domElement.removeEventListener("pointerup",F),e._domElementKeyEvents!==null&&e._domElementKeyEvents.removeEventListener("keydown",le)};const e=this,i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=i.NONE;const d=1e-6,h=new pe,g=new pe;let P=1;const u=new w;let f=!1;const b=new S,y=new S,_=new S,E=new S,l=new S,O=new S,A=new S,v=new S,I=new S,c=[],j={};function Te(){return 2*Math.PI/60/60*e.autoRotateSpeed}function H(){return Math.pow(.95,e.zoomSpeed)}function U(t){g.theta-=t}function W(t){g.phi-=t}const V=function(){const t=new w;return function(m,p){t.setFromMatrixColumn(p,0),t.multiplyScalar(-m),u.add(t)}}(),q=function(){const t=new w;return function(m,p){e.screenSpacePanning===!0?t.setFromMatrixColumn(p,1):(t.setFromMatrixColumn(p,0),t.crossVectors(e.object.up,t)),t.multiplyScalar(m),u.add(t)}}(),D=function(){const t=new w;return function(m,p){const T=e.domElement;if(e.object.isPerspectiveCamera){const R=e.object.position;t.copy(R).sub(e.target);let k=t.length();k*=Math.tan(e.object.fov/2*Math.PI/180),V(2*m*k/T.clientHeight,e.object.matrix),q(2*p*k/T.clientHeight,e.object.matrix)}else e.object.isOrthographicCamera?(V(m*(e.object.right-e.object.left)/e.object.zoom/T.clientWidth,e.object.matrix),q(p*(e.object.top-e.object.bottom)/e.object.zoom/T.clientHeight,e.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),e.enablePan=!1)}}();function Y(t){e.object.isPerspectiveCamera?P/=t:e.object.isOrthographicCamera?(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom*t)),e.object.updateProjectionMatrix(),f=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function Q(t){e.object.isPerspectiveCamera?P*=t:e.object.isOrthographicCamera?(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/t)),e.object.updateProjectionMatrix(),f=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function J(t){b.set(t.clientX,t.clientY)}function Pe(t){A.set(t.clientX,t.clientY)}function $(t){E.set(t.clientX,t.clientY)}function Se(t){y.set(t.clientX,t.clientY),_.subVectors(y,b).multiplyScalar(e.rotateSpeed);const a=e.domElement;U(2*Math.PI*_.x/a.clientHeight),W(2*Math.PI*_.y/a.clientHeight),b.copy(y),e.update()}function Me(t){v.set(t.clientX,t.clientY),I.subVectors(v,A),I.y>0?Y(H()):I.y<0&&Q(H()),A.copy(v),e.update()}function Ce(t){l.set(t.clientX,t.clientY),O.subVectors(l,E).multiplyScalar(e.panSpeed),D(O.x,O.y),E.copy(l),e.update()}function Ae(t){t.deltaY<0?Q(H()):t.deltaY>0&&Y(H()),e.update()}function we(t){let a=!1;switch(t.code){case e.keys.UP:D(0,e.keyPanSpeed),a=!0;break;case e.keys.BOTTOM:D(0,-e.keyPanSpeed),a=!0;break;case e.keys.LEFT:D(e.keyPanSpeed,0),a=!0;break;case e.keys.RIGHT:D(-e.keyPanSpeed,0),a=!0;break}a&&(t.preventDefault(),e.update())}function ee(){if(c.length===1)b.set(c[0].pageX,c[0].pageY);else{const t=.5*(c[0].pageX+c[1].pageX),a=.5*(c[0].pageY+c[1].pageY);b.set(t,a)}}function te(){if(c.length===1)E.set(c[0].pageX,c[0].pageY);else{const t=.5*(c[0].pageX+c[1].pageX),a=.5*(c[0].pageY+c[1].pageY);E.set(t,a)}}function ne(){const t=c[0].pageX-c[1].pageX,a=c[0].pageY-c[1].pageY,m=Math.sqrt(t*t+a*a);A.set(0,m)}function ve(){e.enableZoom&&ne(),e.enablePan&&te()}function De(){e.enableZoom&&ne(),e.enableRotate&&ee()}function oe(t){if(c.length==1)y.set(t.pageX,t.pageY);else{const m=X(t),p=.5*(t.pageX+m.x),T=.5*(t.pageY+m.y);y.set(p,T)}_.subVectors(y,b).multiplyScalar(e.rotateSpeed);const a=e.domElement;U(2*Math.PI*_.x/a.clientHeight),W(2*Math.PI*_.y/a.clientHeight),b.copy(y)}function ie(t){if(c.length===1)l.set(t.pageX,t.pageY);else{const a=X(t),m=.5*(t.pageX+a.x),p=.5*(t.pageY+a.y);l.set(m,p)}O.subVectors(l,E).multiplyScalar(e.panSpeed),D(O.x,O.y),E.copy(l)}function ae(t){const a=X(t),m=t.pageX-a.x,p=t.pageY-a.y,T=Math.sqrt(m*m+p*p);v.set(0,T),I.set(0,Math.pow(v.y/A.y,e.zoomSpeed)),Y(I.y),A.copy(v)}function Re(t){e.enableZoom&&ae(t),e.enablePan&&ie(t)}function xe(t){e.enableZoom&&ae(t),e.enableRotate&&oe(t)}function se(t){e.enabled!==!1&&(c.length===0&&(e.domElement.setPointerCapture(t.pointerId),e.domElement.addEventListener("pointermove",z),e.domElement.addEventListener("pointerup",F)),He(t),t.pointerType==="touch"?Ne(t):Le(t))}function z(t){e.enabled!==!1&&(t.pointerType==="touch"?je(t):Ie(t))}function F(t){he(t),c.length===0&&(e.domElement.releasePointerCapture(t.pointerId),e.domElement.removeEventListener("pointermove",z),e.domElement.removeEventListener("pointerup",F)),e.dispatchEvent(ge),s=i.NONE}function re(t){he(t)}function Le(t){let a;switch(t.button){case 0:a=e.mouseButtons.LEFT;break;case 1:a=e.mouseButtons.MIDDLE;break;case 2:a=e.mouseButtons.RIGHT;break;default:a=-1}switch(a){case x.DOLLY:if(e.enableZoom===!1)return;Pe(t),s=i.DOLLY;break;case x.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enablePan===!1)return;$(t),s=i.PAN}else{if(e.enableRotate===!1)return;J(t),s=i.ROTATE}break;case x.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enableRotate===!1)return;J(t),s=i.ROTATE}else{if(e.enablePan===!1)return;$(t),s=i.PAN}break;default:s=i.NONE}s!==i.NONE&&e.dispatchEvent(Z)}function Ie(t){if(e.enabled!==!1)switch(s){case i.ROTATE:if(e.enableRotate===!1)return;Se(t);break;case i.DOLLY:if(e.enableZoom===!1)return;Me(t);break;case i.PAN:if(e.enablePan===!1)return;Ce(t);break}}function ce(t){e.enabled===!1||e.enableZoom===!1||s!==i.NONE||(t.preventDefault(),e.dispatchEvent(Z),Ae(t),e.dispatchEvent(ge))}function le(t){e.enabled===!1||e.enablePan===!1||we(t)}function Ne(t){switch(ue(t),c.length){case 1:switch(e.touches.ONE){case L.ROTATE:if(e.enableRotate===!1)return;ee(),s=i.TOUCH_ROTATE;break;case L.PAN:if(e.enablePan===!1)return;te(),s=i.TOUCH_PAN;break;default:s=i.NONE}break;case 2:switch(e.touches.TWO){case L.DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;ve(),s=i.TOUCH_DOLLY_PAN;break;case L.DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;De(),s=i.TOUCH_DOLLY_ROTATE;break;default:s=i.NONE}break;default:s=i.NONE}s!==i.NONE&&e.dispatchEvent(Z)}function je(t){switch(ue(t),s){case i.TOUCH_ROTATE:if(e.enableRotate===!1)return;oe(t),e.update();break;case i.TOUCH_PAN:if(e.enablePan===!1)return;ie(t),e.update();break;case i.TOUCH_DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;Re(t),e.update();break;case i.TOUCH_DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;xe(t),e.update();break;default:s=i.NONE}}function de(t){e.enabled!==!1&&t.preventDefault()}function He(t){c.push(t)}function he(t){delete j[t.pointerId];for(let a=0;a<c.length;a++)if(c[a].pointerId==t.pointerId){c.splice(a,1);return}}function ue(t){let a=j[t.pointerId];a===void 0&&(a=new S,j[t.pointerId]=a),a.set(t.pageX,t.pageY)}function X(t){const a=t.pointerId===c[0].pointerId?c[1]:c[0];return j[a.pointerId]}e.domElement.addEventListener("contextmenu",de),e.domElement.addEventListener("pointerdown",se),e.domElement.addEventListener("pointercancel",re),e.domElement.addEventListener("wheel",ce,{passive:!1}),this.update()}}var N=function(){var r=0,n=document.createElement("div");n.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",n.addEventListener("click",function(u){u.preventDefault(),e(++r%n.children.length)},!1);function o(u){return n.appendChild(u.dom),u}function e(u){for(var f=0;f<n.children.length;f++)n.children[f].style.display=f===u?"block":"none";r=u}var i=(performance||Date).now(),s=i,d=0,h=o(new N.Panel("FPS","#0ff","#002")),g=o(new N.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var P=o(new N.Panel("MB","#f08","#201"));return e(0),{REVISION:16,dom:n,addPanel:o,showPanel:e,begin:function(){i=(performance||Date).now()},end:function(){d++;var u=(performance||Date).now();if(g.update(u-i,200),u>=s+1e3&&(h.update(d*1e3/(u-s),100),s=u,d=0,P)){var f=performance.memory;P.update(f.usedJSHeapSize/1048576,f.jsHeapSizeLimit/1048576)}return u},update:function(){i=this.end()},domElement:n,setMode:e}};N.Panel=function(r,n,o){var e=1/0,i=0,s=Math.round,d=s(window.devicePixelRatio||1),h=80*d,g=48*d,P=3*d,u=2*d,f=3*d,b=15*d,y=74*d,_=30*d,E=document.createElement("canvas");E.width=h,E.height=g,E.style.cssText="width:80px;height:48px";var l=E.getContext("2d");return l.font="bold "+9*d+"px Helvetica,Arial,sans-serif",l.textBaseline="top",l.fillStyle=o,l.fillRect(0,0,h,g),l.fillStyle=n,l.fillText(r,P,u),l.fillRect(f,b,y,_),l.fillStyle=o,l.globalAlpha=.9,l.fillRect(f,b,y,_),{dom:E,update:function(O,A){e=Math.min(e,O),i=Math.max(i,O),l.fillStyle=o,l.globalAlpha=1,l.fillRect(0,0,h,b),l.fillStyle=n,l.fillText(s(O)+" "+r+" ("+s(e)+"-"+s(i)+")",P,u),l.drawImage(E,f+d,b,y-d,_,f,b,y-d,_),l.fillRect(f+y-d,b,d,_),l.fillStyle=o,l.globalAlpha=.9,l.fillRect(f+y-d,b,d,s((1-O/A)*_))}}};const Be=N,G=1024,K=1024*G,ye=1024*K;function Ee(r){let n,o,e;return r<1?(n=r*1e3,o="μs",e=0):r<1e3?(n=r,o="ms",e=2):(n=r/1e3,o="s",e=2),"".concat(n.toFixed(e)).concat(o)}function Ye(r){let n,o,e;return r<G?(n=r,o=" bytes",e=0):r<K?(n=r/G,o="kB",e=2):r<ye?(n=r/K,o="MB",e=2):(n=r/ye,o="GB",e=2),"".concat(n.toFixed(e)).concat(o)}const ze="▶",Fe="⬇",B={css:{position:"fixed",zIndex:1e4,color:"#ccc",background:"#000",fontFamily:"Helvetica,Arial,sans-serif",padding:"8px",fontSize:"12px",lineSpacing:6},headerCSS:{fontSize:"16px",cursor:"pointer"},itemCSS:{paddingLeft:"8px"}},Oe=r=>"".concat(r.name,": ").concat(r.count),_e={count:Oe,averageTime:r=>"".concat(r.name,": ").concat(Ee(r.getAverageTime())),totalTime:r=>"".concat(r.name,": ").concat(Ee(r.time)),fps:r=>"".concat(r.name,": ").concat(Math.round(r.getHz()),"fps"),memory:r=>"".concat(r.name,": ").concat(Ye(r.count))};class Ge{constructor(n,o){this.stats=void 0,this.title=void 0,this.collapsed=!1,this._framesPerUpdate=void 0,this._formatters=_e,this._css=void 0,this._headerCSS=void 0,this._itemCSS=void 0,this._container=document.body,this._innerContainer=null,this._statsContainer=null,this._header=null,this._resetOnUpdate={},this._counter=0,this._items={},this._added=!1,this.stats=n,this.title=o==null?void 0:o.title,this._framesPerUpdate=Math.round(Math.max((o==null?void 0:o.framesPerUpdate)||1,1)),this._initializeFormatters(o),this._initializeUpdateConfigs(o),this._css=Object.assign({},B.css,o==null?void 0:o.css),this._headerCSS=Object.assign({},B.headerCSS,this._css.header),this._itemCSS=Object.assign({},B.itemCSS,this._css.item),delete this._css.header,delete this._css.item,this._createDOM(o==null?void 0:o.container),this._createDOMStats()}setStats(n){this.stats=n,this._createDOMStats(),this._setHeaderContent(),this.update()}update(){const n=this.stats&&this.stats.stats;!n||Object.keys(n).length===0||this._counter++%this._framesPerUpdate===0&&this._update()}remove(){this._innerContainer&&this._container.removeChild(this._innerContainer)}setCollapsed(n){this.collapsed=n,this._statsContainer&&(this._statsContainer.style.display=this.collapsed?"none":"block"),this._setHeaderContent()}_update(){this.stats.forEach(n=>{this._createDOMItem(n.name),this._items[n.name].innerHTML=this._getLines(n).join("<BR>"),this._resetOnUpdate[n.name]&&n.reset()})}_initializeFormatters(n){if(n!=null&&n.formatters)for(const o in n.formatters){let e=n.formatters[o];typeof e=="string"&&(e=_e[e]),e&&(this._formatters[o]=e)}}_initializeUpdateConfigs(n){if(n!=null&&n.resetOnUpdate)for(const o in n.resetOnUpdate)this._resetOnUpdate[o]=n.resetOnUpdate[o]||!1}_createDOM(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.body;if(!(typeof document>"u"||!document)){this._container=n,this._innerContainer=document.createElement("div");for(const o in this._css)this._innerContainer.style[o]=this._css[o];this._container.appendChild(this._innerContainer),this._createDOMHeader(),this._statsContainer=document.createElement("div"),this._statsContainer.style.display="block",this._innerContainer.appendChild(this._statsContainer)}}_createDOMHeader(){if(!this._header){var n;this._header=document.createElement("div");for(const o in this._headerCSS)this._header.style[o]=this._headerCSS[o];this._header.onclick=this._toggleCollapsed.bind(this),(n=this._innerContainer)===null||n===void 0||n.appendChild(this._header)}this._setHeaderContent()}_setHeaderContent(){if(this._header){const n=this.collapsed?ze:Fe,o=this.title||this.stats&&this.stats.id||"Stats";this._header.innerText="".concat(n," ").concat(o)}}_toggleCollapsed(){this.setCollapsed(!this.collapsed)}_createDOMStats(){this.stats instanceof Ue&&this.stats.forEach(n=>{this._createDOMItem(n.name)})}_createDOMItem(n){if(this._statsContainer&&!this._items[n]){this._items[n]=document.createElement("div");for(const o in this._itemCSS)this._items[n].style[o]=this._itemCSS[o];this._statsContainer.appendChild(this._items[n])}}_getLines(n){const o=this._formatters[n.name]||this._formatters[n.type||""]||Oe;return n?o(n).split(`
`):[]}}export{Ze as O,Be as S,Ge as a};
